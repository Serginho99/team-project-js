!function(){function e(e,t,n,o){Object.defineProperty(e,t,{get:n,set:o,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},r={},a=n.parcelRequired7c6;null==a&&((a=function(e){if(e in o)return o[e].exports;if(e in r){var t=r[e];delete r[e];var n={id:e,exports:{}};return o[e]=n,t.call(n.exports,n,n.exports),n.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){r[e]=t},n.parcelRequired7c6=a),a.register("iE7OH",(function(t,n){var o,r;e(t.exports,"register",(function(){return o}),(function(e){return o=e})),e(t.exports,"resolve",(function(){return r}),(function(e){return r=e}));var a={};o=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)a[t[n]]=e[t[n]]},r=function(e){var t=a[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),a.register("3QiSF",(function(e,t){e.exports=a("aNJCr").getBundleURL("7W1uh")+a("iE7OH").resolve("7u6Ym")})),a.register("aNJCr",(function(t,n){var o;e(t.exports,"getBundleURL",(function(){return o}),(function(e){return o=e}));var r={};function a(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}o=function(e){var t=r[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(e)return a(e[2])}return"/"}(),r[e]=t),t}})),a("iE7OH").register(JSON.parse('{"7W1uh":"index.0e87b6e1.js","7u6Ym":"default-poster-webp.86f2548c.webp","7IiqN":"library.f4d57dbf.js"}'));var d=a("bpxeT"),i=a("2TvXO"),c=a("dIxxU"),s="d7be37f171d8123214539749ff0838e8",l="https://api.themoviedb.org/3",u=document.querySelector(".modal__backdrop"),m=document.querySelector(".modal__render"),p=document.querySelector("#main");document.querySelector(".movie");function f(e){return g.apply(this,arguments)}function g(){return(g=t(d)(t(i).mark((function e(n){var o;return t(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(c).get("".concat(l,"/movie/").concat(n,"?api_key=").concat(s));case 2:return o=e.sent,e.abrupt("return",o.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return(v=t(d)(t(i).mark((function e(n){var o;return t(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(n);case 2:o=e.sent,m.innerHTML="",m.insertAdjacentHTML("beforeend",L(o)),S(n),w(n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}document.addEventListener("keydown",x),u.addEventListener("click",(function(e){var t=document.querySelector(".modal__btn-queue"),n=document.querySelector(".modal__btn-watched");e.currentTarget===e.target&&(u.classList.add("is-hidden"),window.removeEventListener("keydown",x),n.remove(),t.remove(),document.body.classList.toggle("modal-open"))})),p.addEventListener("click",(function(e){e.target.classList.contains("movie")&&(u.classList.remove("is-hidden"),function(e){v.apply(this,arguments)}(e.target.dataset.id),document.body.classList.toggle("modal-open"))}));var _="watched",h="queue",b=localStorage.getItem(_)?JSON.parse(localStorage.getItem(_)):{},y=localStorage.getItem(h)?JSON.parse(localStorage.getItem(h)):{};function w(e){var t=document.querySelector(".modal__btn-watched");t.addEventListener("click",(function(){b[e]=e,localStorage.setItem(_,JSON.stringify(b)),delete y[e],localStorage.setItem(h,JSON.stringify(y)),u.classList.add("is-hidden"),document.body.classList.toggle("modal-open")})),console.log(t)}function S(e){document.querySelector(".modal__btn-queue").addEventListener("click",(function(){y[e]=e,localStorage.setItem(h,JSON.stringify(y)),delete b[e],localStorage.setItem(_,JSON.stringify(b)),u.classList.add("is-hidden"),document.body.classList.toggle("modal-open")}))}function L(e){return'\n          <div class="modal__wrapper">\n          <div class="modal__image">\n          '.concat(e.poster_path?"<img\n            id=".concat(e.id,'\n              src="').concat("https://image.tmdb.org/t/p/w500").concat(e.poster_path,'"\n              alt="').concat(e.title,'"\n              width="240"\n              height="357"\n              class="img"\n            />'):"<img\n            id=".concat(e.id,'\n              src="').concat(a("3QiSF"),'"\n              alt="').concat(e.title||e.original_title||e.name,'"\n              width="240"\n              height="357"\n              class="img"\n            />'),'\n            \n          </div>\n          <div class="modal__content">\n            <h3 class="movie__title">').concat(e.title||e.original_title||e.name,'</h3>\n            <dl class="modal__meta">\n              <dt>Vote / Votes</dt>\n              <dd>\n                <span data-attr="avg-rating">').concat(e.vote_average.toFixed(),'</span> <i>/</i>\n                <span data-attr="vote-count">').concat(e.vote_count,'</span>\n              </dd>\n\n              <dt>Popularity</dt>\n              <dd data-attr="popularity">').concat(e.popularity,'</dd>\n\n              <dt>Original Title</dt>\n              <dd data-attr="orig-title">').concat(e.title||e.original_title||e.name,"</dd>\n\n              <dt>Genre</dt>\n              ").concat(e.genres[0]?'<dd data-attr="genre">'.concat(e.genres[0].name,"</dd>"):'<dd data-attr="genre">'.concat(e.genres[0],"</dd>"),'\n              \n            </dl>\n\n            <h4 class="movie__descr-title">About</h4>\n            <p class="modal__overview" data-attr="overview">').concat(e.overview,'</p>\n            <div class="button__row">\n              <button type="button" data-id="').concat(e.id,'" class="modal__btn modal__btn-watched">\n                add to watched\n              </button>\n              <button type="button" data-id="').concat(e.id,'" class="modal__btn modal__btn-queue">\n                add to queue\n              </button>\n            </div>\n          </div>\n        </div>')}function x(e){var t=document.querySelector(".modal__btn-queue"),n=document.querySelector(".modal__btn-watched");"Escape"===e.code&&(u.classList.add("is-hidden"),window.removeEventListener("keydown",x),n.remove(),t.remove(),document.body.classList.toggle("modal-open"))}}();
//# sourceMappingURL=index.0e87b6e1.js.map
