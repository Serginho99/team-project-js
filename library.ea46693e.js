function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},d=t.parcelRequired7c6;null==d&&((d=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var d={id:e,exports:{}};return n[e]=d,t.call(d.exports,d,d.exports),d.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){o[e]=t},t.parcelRequired7c6=d),d.register("e738t",(function(e,t){e.exports=new URL(d("kyEFX").resolve("2G1uI"),import.meta.url).toString()})),d("kyEFX").register(JSON.parse('{"1kIz2":"library.ea46693e.js","2G1uI":"default-poster-webp.86f2548c.webp"}'));var a=d("2shzp");const i=document.querySelector(".modal__backdrop"),l=document.querySelector(".modal__render"),r=document.querySelector("#main-library");document.querySelector(".movie");document.addEventListener("keydown",u),i.addEventListener("click",(function(e){const t=document.querySelector(".modal__btn-queue"),n=document.querySelector(".modal__btn-watched");e.currentTarget===e.target&&(i.classList.add("is-hidden"),window.removeEventListener("keydown",u),n.remove(),t.remove(),document.body.classList.toggle("modal-open"))})),r.addEventListener("click",(t=>{console.log("sdgasfagfaerf"),t.target.classList.contains("movie")&&(i.classList.remove("is-hidden"),async function(t){const n=await async function(t){return(await e(a).get(`https://api.themoviedb.org/3/movie/${t}?api_key=d7be37f171d8123214539749ff0838e8`)).data}(t);l.innerHTML="",l.insertAdjacentHTML("beforeend",function(e){return`\n          <div class="modal__wrapper">\n          <div class="modal__image">\n          ${e.poster_path?`<img\n            id=${e.id}\n              src="https://image.tmdb.org/t/p/w500${e.poster_path}"\n              alt="${e.title}"\n              width="240"\n              height="357"\n              class="img"\n            />`:`<img\n            id=${e.id}\n              src="${d("e738t")}"\n              alt="${e.title||e.original_title||e.name}"\n              width="240"\n              height="357"\n              class="img"\n            />`}\n            \n          </div>\n          <div class="modal__content">\n            <h3 class="movie__title">${e.title||e.original_title||e.name}</h3>\n            <dl class="modal__meta">\n              <dt>Vote / Votes</dt>\n              <dd>\n                <span data-attr="avg-rating">${e.vote_average.toFixed()}</span> <i>/</i>\n                <span data-attr="vote-count">${e.vote_count}</span>\n              </dd>\n\n              <dt>Popularity</dt>\n              <dd data-attr="popularity">${e.popularity}</dd>\n\n              <dt>Original Title</dt>\n              <dd data-attr="orig-title">${e.title||e.original_title||e.name}</dd>\n\n              <dt>Genre</dt>\n              ${e.genres[0]?`<dd data-attr="genre">${e.genres[0].name}</dd>`:`<dd data-attr="genre">${e.genres[0]}</dd>`}\n              \n            </dl>\n\n            <h4 class="movie__descr-title">About</h4>\n            <p class="modal__overview" data-attr="overview">${e.overview}</p>\n            <div class="button__row">\n              <button type="button" data-id="${e.id}" class="modal__btn modal__btn-watched">\n                add to watched\n              </button>\n              <button type="button" data-id="${e.id}" class="modal__btn modal__btn-queue">\n                add to queue\n              </button>\n              <button type="button" data-id="${e.id}" class="modal__btn modal__btn-deleted">\n                DELETED\n              </button>\n            </div>\n          </div>\n        </div>`}(n)),function(e){function t(){c[e]=e,localStorage.setItem("queue",JSON.stringify(c)),delete s[e],localStorage.setItem("watched",JSON.stringify(s)),i.classList.add("is-hidden"),document.body.classList.toggle("modal-open"),location.reload()}document.querySelector(".modal__btn-queue").addEventListener("click",t)}(t),function(e){const t=document.querySelector(".modal__btn-watched");function n(){s[e]=e,localStorage.setItem("watched",JSON.stringify(s)),delete c[e],localStorage.setItem("queue",JSON.stringify(c)),i.classList.add("is-hidden"),document.body.classList.toggle("modal-open"),location.reload()}t.addEventListener("click",n),console.log(t)}(t),function(e){function t(){delete c[e],localStorage.setItem("queue",JSON.stringify(c)),delete s[e],localStorage.setItem("watched",JSON.stringify(s)),i.classList.add("is-hidden"),document.body.classList.toggle("modal-open"),location.reload()}document.querySelector(".modal__btn-deleted").addEventListener("click",t)}(t)}(t.target.dataset.id),document.body.classList.toggle("modal-open"))}));const s=localStorage.getItem("watched")?JSON.parse(localStorage.getItem("watched")):{},c=localStorage.getItem("queue")?JSON.parse(localStorage.getItem("queue")):{};function u(e){const t=document.querySelector(".modal__btn-queue"),n=document.querySelector(".modal__btn-watched");"Escape"===e.code&&(i.classList.add("is-hidden"),window.removeEventListener("keydown",u),n.remove(),t.remove(),document.body.classList.toggle("modal-open"))}
//# sourceMappingURL=library.ea46693e.js.map
