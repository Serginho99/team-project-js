{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/runtime-32d546c8b06f5caf.js","node_modules/@parcel/runtime-js/lib/runtime-bd0d56d5864bb6d0.js","src/js/removeDescriptionCard.js"],"sourcesContent":["module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"2G1uI\")).toString();","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"1kIz2\\\":\\\"library.c451ce8b.js\\\",\\\"2G1uI\\\":\\\"default-poster-webp.86f2548c.webp\\\"}\"));","import axios from 'axios';\n\nconst searchId =\n  'https://api.themoviedb.org/3/movie/${id}?api_key=d7be37f171d8123214539749ff0838e8';\nconst API_KEY = 'd7be37f171d8123214539749ff0838e8';\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst IMG_URL = 'https://image.tmdb.org/t/p/w500';\n\nconst genres = [\n  { id: 28, name: 'Action' },\n  { id: 12, name: 'Adventure' },\n  { id: 16, name: 'Animation' },\n  { id: 35, name: 'Comedy' },\n  { id: 80, name: 'Crime' },\n  { id: 99, name: 'Documentary' },\n  { id: 18, name: 'Drama' },\n  { id: 10751, name: 'Family' },\n  { id: 14, name: 'Fantasy' },\n  { id: 36, name: 'History' },\n  { id: 27, name: 'Horror' },\n  { id: 10402, name: 'Music' },\n  { id: 9648, name: 'Mystery' },\n  { id: 10749, name: 'Romance' },\n  { id: 878, name: 'Science Fiction' },\n  { id: 10770, name: 'TV Movie' },\n  { id: 53, name: 'Thriller' },\n  { id: 10752, name: 'War' },\n  { id: 37, name: 'Western' },\n];\n\nconst modalBackdrop = document.querySelector('.modal__backdrop');\nconst modalRender = document.querySelector('.modal__render');\nconst modalOpen = document.querySelector('#main-library');\nconst movieEl = document.querySelector('.movie');\n\ndocument.addEventListener('keydown', onEscClose);\nmodalBackdrop.addEventListener('click', handleCloseBackdrop);\n\n//відкриття модалки\nmodalOpen.addEventListener('click', event => {\n    console.log('sdgasfagfaerf')\n  if (!event.target.classList.contains('movie')) {\n    return;\n  }\n  modalBackdrop.classList.remove('is-hidden');\n  renderModal(event.target.dataset.id);\n  document.body.classList.toggle('modal-open');\n});\n\nasync function fecthCardFilm(id) {\n  const response = await axios.get(\n    `${BASE_URL}/movie/${id}?api_key=${API_KEY}`\n  );\n  return response.data;\n}\nasync function renderModal(value) {\n  const cardFilm = await fecthCardFilm(value);\n  modalRender.innerHTML = '';\n  modalRender.insertAdjacentHTML('beforeend', renderCardFilm(cardFilm));\n\n  addBtnQueue(value);\n  addBtnWatch(value);\n}\n\nconst LOCAL_WATCHED = 'watched';\nconst LOCAL_QUEUE = 'queue';\n\nconst movieDataWatched = localStorage.getItem(LOCAL_WATCHED)\n  ? JSON.parse(localStorage.getItem(LOCAL_WATCHED))\n  : {};\n\nconst movieDataQueue = localStorage.getItem(LOCAL_QUEUE)\n  ? JSON.parse(localStorage.getItem(LOCAL_QUEUE))\n  : {};\n\nfunction addBtnWatch(value) {\n  const btnWatched = document.querySelector('.modal__btn-watched');\n    btnWatched.addEventListener('click', addToWatch);\n    \n  console.log(btnWatched);\n\n  function addToWatch() {\n    movieDataWatched[value] = value;\n    localStorage.setItem(LOCAL_WATCHED, JSON.stringify(movieDataWatched));\n    delete movieDataQueue[value];\n      localStorage.setItem(LOCAL_QUEUE, JSON.stringify(movieDataQueue));\n       modalBackdrop.classList.add('is-hidden');\n  document.body.classList.toggle('modal-open');\n  }\n}\n\nfunction addBtnQueue(value) {\n  const btnQueue = document.querySelector('.modal__btn-queue');\n  btnQueue.addEventListener('click', addToQueue);\n\n  function addToQueue() {\n    movieDataQueue[value] = value;\n    localStorage.setItem(LOCAL_QUEUE, JSON.stringify(movieDataQueue));\n    delete movieDataWatched[value];\n      localStorage.setItem(LOCAL_WATCHED, JSON.stringify(movieDataWatched));\nmodalBackdrop.classList.add('is-hidden');\n  document.body.classList.toggle('modal-open');\n  }\n}\n\nfunction renderCardFilm(cardFilm) {\n  return `\n          <div class=\"modal__wrapper\">\n          <div class=\"modal__image\">\n          ${\n            cardFilm.poster_path\n              ? `<img\n            id=${cardFilm.id}\n              src=\"${IMG_URL}${cardFilm.poster_path}\"\n              alt=\"${cardFilm.title}\"\n              width=\"240\"\n              height=\"357\"\n              class=\"img\"\n            />`\n              : `<img\n            id=${cardFilm.id}\n              src=\"${require('/src/images/default-poster-webp.webp')}\"\n              alt=\"${\n                cardFilm.title || cardFilm.original_title || cardFilm.name\n              }\"\n              width=\"240\"\n              height=\"357\"\n              class=\"img\"\n            />`\n          }\n            \n          </div>\n          <div class=\"modal__content\">\n            <h3 class=\"movie__title\">${\n              cardFilm.title || cardFilm.original_title || cardFilm.name\n            }</h3>\n            <dl class=\"modal__meta\">\n              <dt>Vote / Votes</dt>\n              <dd>\n                <span data-attr=\"avg-rating\">${cardFilm.vote_average.toFixed()}</span> <i>/</i>\n                <span data-attr=\"vote-count\">${cardFilm.vote_count}</span>\n              </dd>\n\n              <dt>Popularity</dt>\n              <dd data-attr=\"popularity\">${cardFilm.popularity}</dd>\n\n              <dt>Original Title</dt>\n              <dd data-attr=\"orig-title\">${\n                cardFilm.title || cardFilm.original_title || cardFilm.name\n              }</dd>\n\n              <dt>Genre</dt>\n              ${\n                cardFilm.genres[0]\n                  ? `<dd data-attr=\"genre\">${cardFilm.genres[0].name}</dd>`\n                  : `<dd data-attr=\"genre\">${cardFilm.genres[0]}</dd>`\n              }\n              \n            </dl>\n\n            <h4 class=\"movie__descr-title\">About</h4>\n            <p class=\"modal__overview\" data-attr=\"overview\">${\n              cardFilm.overview\n            }</p>\n            <div class=\"button__row\">\n              <button type=\"button\" data-id=\"${\n                cardFilm.id\n              }\" class=\"modal__btn modal__btn-watched\">\n                add to watched\n              </button>\n              <button type=\"button\" data-id=\"${\n                cardFilm.id\n              }\" class=\"modal__btn modal__btn-queue\">\n                add to queue\n              </button>\n            </div>\n          </div>\n        </div>`;\n}\n\nfunction onEscClose(ev) {\n  const btnQueue = document.querySelector('.modal__btn-queue');\n  const btnWatched = document.querySelector('.modal__btn-watched');\n  if (ev.code === 'Escape') {\n    modalBackdrop.classList.add('is-hidden');\n    window.removeEventListener('keydown', onEscClose);\n    btnWatched.remove();\n    btnQueue.remove();\n    document.body.classList.toggle('modal-open');\n  }\n}\n\nfunction handleCloseBackdrop(e) {\n  const btnQueue = document.querySelector('.modal__btn-queue');\n  const btnWatched = document.querySelector('.modal__btn-watched');\n  if (e.currentTarget === e.target) {\n    modalBackdrop.classList.add('is-hidden');\n    window.removeEventListener('keydown', onEscClose);\n    btnWatched.remove();\n    btnQueue.remove();\n    document.body.classList.toggle('modal-open');\n  }\n}\n"],"names":["module","exports","URL","parcelRequire","resolve","import","meta","url","toString","register","JSON","parse","$2shzp","$03ca1290ad726876$var$modalBackdrop","document","querySelector","$03ca1290ad726876$var$modalRender","$03ca1290ad726876$var$modalOpen","addEventListener","$03ca1290ad726876$var$onEscClose","e","btnQueue","btnWatched","currentTarget","target","classList","add","window","removeEventListener","remove","body","toggle","event","console","log","contains","async","value","cardFilm","id","$parcel$interopDefault","get","data","$03ca1290ad726876$var$fecthCardFilm","innerHTML","insertAdjacentHTML","poster_path","title","original_title","name","vote_average","toFixed","vote_count","popularity","genres","overview","$03ca1290ad726876$var$renderCardFilm","addToQueue","$03ca1290ad726876$var$movieDataQueue","localStorage","setItem","stringify","$03ca1290ad726876$var$movieDataWatched","$03ca1290ad726876$var$addBtnQueue","addToWatch","$03ca1290ad726876$var$addBtnWatch","$03ca1290ad726876$var$renderModal","dataset","getItem","ev","code"],"version":3,"file":"library.c451ce8b.js.map"}